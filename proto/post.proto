syntax = "proto3";
option go_package = "./gen";

import "default.proto";

message PostRequest{
	string title = 1;
	string body = 2;
}

message PostResponse{
	string id = 1;
	string title = 2;
	string body = 3;
	repeated string upvotes = 4;
}

message ManyPostsResponse{
	repeated PostResponse posts = 1;
}

message PostUserIdRequest{
	string postId = 1;
	string username = 2;
}

service PostService{
	rpc CreatePost(PostRequest) returns (PostResponse) {}
	rpc GetPosts(Empty) returns (ManyPostsResponse) {}
	rpc ToggleUpvote(PostUserIdRequest) returns (PostResponse) {}
}